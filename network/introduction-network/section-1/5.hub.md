# 5. 허브

- 이전 시간에는 두 대의 컴퓨터를 케이블로 연결해 통신하면서 거리가 멀어질 때 리피터를 사용
- 다른 PC와 연결하기 위해 랜카드를 추가하는 방식은 확장성에 문제가 생김 ⇒ 해당 문제를 해결하기 위해 허브가 등장
- 컴퓨터는 통신하기 위해서 직접 케이블로 연결하는 것이 아니라 중간에 있는 허브에 케이블로 연결함
- 가령 4대가 연결된 PC에서 PC1이 PC4로 데이터를 전송하기 위해서는 허브에 데이터를 보내고 허브는 PC1을 제외한 모든 PC에 데이터를 전송 즉 브로드캐스트 한다
    - 허브는 이 과정에서 신호를 증폭하는 리피터 역할도 함 이 때문에 허브를 멀티포트 리피터 라고도 부름
    - PC2, PC3, PC4의 랜카드는 허브에서 온 아날로그 신호를 디지털 데이터로 변경
    - 랜카드는 프레임의 헤더에 적힌 목적지 MAC주소를 참조해 자신의 MAC 주소와 비교
    - PC2, PC3은 목적지 MAC 주소가 일치하지 않으므로 데이터를 버림
- 그러면 허브를 추가하기만 하면 무한대로 PC를 연결할 수 있냐?
    - 아쉽지만 그렇지 않음 만약 PC1이 데이터를 전송하면 데이터의 충돌이 발생하기 때문에 PC2는 데이터를 전송할 수 없음
    - PC2는 자신에게 전송되는 데이터가 없을 때 까지 기다렸다가 데이터를 전송 이를 **CSMA/CD** 라고 한다.
    - 허브는 이렇게 구조상의 이유로 충돌이 발생할 수 있고 이를 콜리전 도메인이라고 부른다
    - 이것이 허브의 한계이고 데이터링크 계층에서 배울 브리지, 스위치가 등장한 이유이다.