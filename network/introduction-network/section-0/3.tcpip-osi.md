# 3. TCP/IP 5계층, OSI 7계층

## TCP/IP 의 계층

### 1계층 물리계층

- 이 계층은 실제로 데이터를 물리적으로 전송한다.
- 데이터를 전기신호로 변환하고 전기신호를 다시 데이터로 복원한다
- 랜카드와 케이블이 있다면 두 컴퓨터가 통신이 가능해지는데 이는 물리 계층 덕분이다.
- 이 계층에선 데이터를 전달만 할 뿐 어떻게 보내는 것이 효율적인지 생각하지 않습니다.
- 2계층 데이터 링크 계층

### 2계층 데이터 링크 계층

- 여러 개의 기기가 연결돼 있더라도 **MAC** 주소라는 고유한 주소로 기기를 잘 분류함

### 3계층 네트워크 계층

- 복잡하게 연결된 네트워크에서 IP주소를 이용해 출발지부터 목적지까지 정확하게 데이터를 보내는 계층

### 4계층 트랜스포트 계층

- 이 계층은 두 컴퓨터 사이의 신뢰성 있는 데이터 전송을 보장하고
- 포트를 이용해 사용자의 특정 에플리케이션으로 정확하게 전달합니다.
  - 포트란 무엇인가 ⇒ [링크](https://velog.io/@yeahg_dev/%ED%8F%AC%ED%8A%B8port%EB%8A%94-%EC%99%9C-%ED%95%84%EC%9A%94%ED%95%A0%EA%B9%8C)
- 트랜스포트 계층은 네트워크 계층 위에서 동작하기 때문에 두 컴퓨터 사이의 연결을 보장하는 일에만 집중 할 수 있습니다.

### 5계층 에플리케이션 계층

- HTTP나 FTP, SSH등 사용자가 직접 다루는 애플리케이션이 이 계층에 해당합니다.
- 애플리케이션 계층은 트랜스포트 계층 위에서 동작하기 때문에 애플리케이션이 하는 일에만 집중 할 수 있습니다.
- 신뢰성 있는 데이터 보장, 데이터 전송은 아래 계층들이 담당합니다.

## OSI 7계층

### TCP/IP 5계층과 같은 네트워크를 위한 표준 프로토콜

- 하지만 현실 세계에서 동작하는 인터넷은 OSI 모델로 이루어져 있지 않고 TCP/IP 모델로 이루어져 있습니다.
- ARAPANET은 정식으로 TCP/IP를 채택
- 당시 많은 사용자가 유닉스 운영체제를 사용했는데 해당 운영체제에서 TCP/IP가 내장되어 있었음
- 이미 TCP/IP가 빠르게 퍼진 상황에서 OSI 모델이 이미 자리 잡은 TCP/IP를 밀어내기엔 역부족
- 그래서 국제 표준은 OSI 7계층 이지만 현업에서는 TCP/IP 5계층이 사용되고 있음

## 애플리케이션에서 데이터를 전송하면 어떤 흐름으로 TCP/IP 5계층이 동작할까?

- 웹브라우저에서 웹서버로 데이터를 전송한다고 가정
- 웹브라우저는 HTTP를 사용하기 때문에 웹 서버로 전송할 HTTP 메시지가 만들어짐
- 애플리케이션 계층은 이 데이터를 4계층 즉 트랜스포트 계층으로 보냄
- 트랜스포트 계층에서는 애플리케이션 계층에서 받은 데이터에 트랜스포트 계층의 약속을 나타내는 데이터를 맨 앞에 덧붙임 (맨앞에 머리쪽에 붙었다고해서 **헤더**라고 부름)
  - 이렇게 애플리케이션의 데이터와 트랜스포트 헤더가 합쳐진 전체 데이터를 `데이터그램`또는 `세그먼트`라고 부름
- 해당 데이터그램을 3계층으로 보냄
- 네트워크 계층에서는 트랜스포트 계층에서 받은 `데이터그램(세그먼트)`을 데이터로 취급
- 여기서 추가적으로 네트워크 계층의 약속을 나타내는 헤더를 덧붙임
  - 이렇게 트랜스포트 계층의 데이터그램과 네트워크 계층의 헤더가 합쳐진 전체 데이터를 `패킷`이라고 부름 ⇒ 해당 `패킷` 은 2계층 데이터링크 계층으로 전달
- 데이터링크 계층에선 네트워크 계층에서 받은 `패킷` 에 데이터링크 계층의 약속을 나타내는 `헤더`와 `트레일러`를 덧붙임
  - 이렇게 네트워크 계층의 `패킷`과 `데이터링크` 계층의 헤더가 합쳐진 전체 데이터를 `프레임` 이라고 부름 ⇒ 1계층 물리계층으로 보냄
- 물리 계층에선 데이터 링크 계층으로부터 받은 `프레임` 을 전기 신호로 바꿔 물리적으로 전송
